var VA=VA||{jq:null,isWl:!1,setup:{cart:!1,leadgen:!1,locale:"en-US",mkt:!1,predefined:[],receipt:!1,whiteLabel:{id:null,offerId:null,domain:null,leadAPIKey:null},resubmitMode:"new"},trace:function(e){try{console.log(e)}catch(t){window.location.search.indexOf("vatest=true")>=0&&alert(e)}},qs:function(e){if(""==e)return{};for(var t={},o=0;o<e.length;++o){var n=e[o].split("=");if(2==n.length)try{t[n[0]]=decodeURIComponent(n[1].replace(/\+/g," "))}catch(a){t[n[0]]=decodeURIComponent(escape(n[1].replace(/\+/g," ")))}}return t}(window.location.search.substr(1).split("&")),evalScriptFromNode:function(elem){for(var scripts=elem.getElementsByTagName("script"),i=0;i<scripts.length;i++)if(""!=scripts[i].src){var tag=document.createElement("script");tag.src=scripts[i].src,document.getElementsByTagName("head")[0].appendChild(tag)}else eval(scripts[i].innerHTML)},execScriptFromNode:function(e){function t(e,t){return e.nodeName&&e.nodeName.toUpperCase()===t.toUpperCase()}function o(e){var t=e.text||e.textContent||e.innerHTML||"",o=document.getElementsByTagName("head")[0]||document.documentElement,n=document.createElement("script");n.type="text/javascript";try{n.appendChild(document.createTextNode(t))}catch(a){n.text=t}o.insertBefore(n,o.firstChild),o.removeChild(n)}var n,a,i,r=[],c=e.childNodes;for(i=0;c[i];i++)a=c[i],!t(a,"script")||a.type&&"text/javascript"!==a.type.toLowerCase()||r.push(a);for(i=0;r[i];i++)n=r[i],n.parentNode&&n.parentNode.removeChild(n),o(r[i])},getJSONP:function(e,t){var o="_"+ +new Date,n=document.createElement("script"),a=document.getElementsByTagName("head")[0]||document.documentElement;window[o]=function(e){a.removeChild(n),t&&t(e)},n.src=e.replace("callback=?","callback="+o),a.appendChild(n)},mergeRecursive:function(e,t){for(var o in t)try{t[o].constructor==Object?e[o]=MergeRecursive(e[o],t[o]):e[o]=t[o]}catch(n){e[o]=t[o]}return e},createCookie:function(e,t,o,n,a){var i=e+"="+escape(t)+";";o&&(o instanceof Date?isNaN(o.getTime())&&(o=new Date):o=new Date((new Date).getTime()+1e3*parseInt(o)*60*60*24),i+="expires="+o.toGMTString()+";"),n&&(i+="path="+n+";"),a&&(i+="domain="+a+";"),document.cookie=i},getCookie:function(e){return match=document.cookie.match(new RegExp(e+"=([^;]+)")),match?match[1]:void 0},deleteCookie:function(e,t,o){VA.getCookie(e)&&VA.createCookie(e,"",-1,t,o)},compareVersions:function(e,t){for(var o=e.split("."),n=t.split("."),a=0;a<o.length;++a)o[a]=Number(o[a]);for(var a=0;a<n.length;++a)n[a]=Number(n[a]);return 2==o.length&&(o[2]=0),o[0]>n[0]?!0:o[0]<n[0]?!1:o[1]>n[1]?!0:o[1]<n[1]?!1:o[2]>n[2]?!0:o[2]<n[2]?!1:!0},isBlank:function(e){return"undefined"==typeof e||null===e||""===e},isPresent:function(e){return!VA.isBlank(e)},isFunction:function(e){return"undefined"!==e&&"function"==typeof e},isIncluded:function(e){for(var t=document.getElementsByTagName("script"),o=0;o<t.length;o++)if(t[o].getAttribute("src")==e)return!0;return!1},paramOrCookie:function(e){var t=VA.qs[e]||VA.getCookie(e)||"";return t},events:{onAfterDataLoad:function(e){},onAfterFormSuccess:function(e){},onBeforeFormSubmit:function(e){}},domain:function(){var e="vbtrax.com";return null!=document.location.hostname.match(/local./)&&(e="local.vbtrax.com"),e}(),protocol:function(){return"https:"==document.location.protocol?"https://":"http://"}(),loadCSS:function(e){for(var t=document.getElementsByTagName("head")[0],o=0;o<e.length;o++){var n=document.createElement("link");n.rel="stylesheet",n.href=e[o],t.appendChild(n)}},loadScript:function(e){if(e.owner_document=e.owner_document||document,e.chain=e.chain||[e.src],0==e.chain.length)return void(e.callback&&e.callback());var t=e.chain.shift();if(VA.isIncluded(t))0==e.chain.length?e.callback&&e.callback():VA.loadScript(e);else{var o=e.owner_document.createElement("script");o.setAttribute("type","text/javascript"),o.setAttribute("src",t),0==e.chain.length?(o.onload=function(){o.onreadystatechange=null,e.callback&&e.callback()},o.onreadystatechange=function(){("loaded"==o.readyState||"complete"==o.readyState)&&(o.onload=null,e.callback&&e.callback())}):(o.onload=function(){o.onreadystatechange=null,VA.loadScript(e)},o.onreadystatechange=function(){("loaded"==o.readyState||"complete"==o.readyState)&&(o.onload=null,VA.loadScript(e))}),e.owner_document.getElementsByTagName("head")[0].appendChild(o)}},mkt:{domain:function(){return VA.setup.whiteLabel.domain||VA.domain},initialize:function(e){var t=VA.setup.whiteLabel.siteId,o=VA.setup.whiteLabel.id,n=[],a=window.location;n.push(VA.protocol),n.push(VA.mkt.domain()),n.push("/track/imp/mkt_site/"+o+"/"+t+"?"),n.push("vtm_host="+encodeURIComponent(a.hostname)),n.push("&vtm_page="+encodeURIComponent(a.pathname)),n.push("&ref="+encodeURIComponent(document.referrer)),n.push("&vtm_channel="+encodeURIComponent(VA.paramOrCookie("vtm_channel"))),n.push("&vtm_campaign="+encodeURIComponent(VA.paramOrCookie("vtm_campaign"))),n.push("&server_subid="+encodeURIComponent(VA.paramOrCookie("vtm_stat_id"))),n.push("&subid_1="+encodeURIComponent(VA.paramOrCookie("subid_1"))),n.push("&subid_2="+encodeURIComponent(VA.paramOrCookie("subid_2"))),n.push("&subid_3="+encodeURIComponent(VA.paramOrCookie("subid_3"))),n.push("&subid_4="+encodeURIComponent(VA.paramOrCookie("subid_4"))),n.push("&subid_5="+encodeURIComponent(VA.paramOrCookie("subid_5"))),n.push("&gaid="+encodeURIComponent(VA.paramOrCookie("gaid"))),1==e.conversion&&(n.push("&conversions=true"),"undefined"!=typeof e.conversionData&&(null!=e.conversionData.step&&n.push("&step="+encodeURIComponent(e.conversionData.step)),null!=e.conversionData.orderTotal&&n.push("&order_total="+encodeURIComponent(e.conversionData.orderTotal)),null!=e.conversionData.order&&n.push("&order="+encodeURIComponent(e.conversionData.order)),null!=e.conversionData.revenue&&n.push("&revenue="+encodeURIComponent(e.conversionData.revenue)))),n.push("&callback=?"),(VA.isPresent(VA.paramOrCookie("server_subid"))||VA.isPresent(VA.paramOrCookie("vtm_stat_id")))&&VA.getJSONP(n.join(""),function(e){if(!VA.isBlank(e.cookie_bust))for(var n=e.cookie_bust.length,a=0;n>a;a++)VA.deleteCookie(e.cookie_bust[a],"/","."+e.cookie.domain);var i=function(e,t){return VA.isPresent(VA.getCookie(e))&&VA.getCookie(e)==t};if(i("vtm_host",e.cookie.vtm_host)||VA.createCookie("vtm_host",e.cookie.vtm_host,90,"/","."+e.cookie.domain),i("vtm_page",e.cookie.vtm_page)||VA.createCookie("vtm_page",e.cookie.vtm_page,90,"/","."+e.cookie.domain),i("vtm_channel",e.cookie.vtm_channel)||VA.createCookie("vtm_channel",e.cookie.vtm_channel,90,"/","."+e.cookie.domain),i("vtm_campaign",e.cookie.vtm_campaign)||VA.createCookie("vtm_campaign",e.cookie.vtm_campaign,90,"/","."+e.cookie.domain),i("subid_1",e.cookie.subid_1)||VA.createCookie("subid_1",e.cookie.subid_1,90,"/","."+e.cookie.domain),i("subid_2",e.cookie.subid_2)||VA.createCookie("subid_2",e.cookie.subid_2,90,"/","."+e.cookie.domain),i("subid_3",e.cookie.subid_3)||VA.createCookie("subid_3",e.cookie.subid_3,90,"/","."+e.cookie.domain),i("subid_4",e.cookie.subid_4)||VA.createCookie("subid_4",e.cookie.subid_4,90,"/","."+e.cookie.domain),i("subid_5",e.cookie.subid_5)||VA.createCookie("subid_5",e.cookie.subid_5,90,"/","."+e.cookie.domain),i("vtm_stat_id",e.cookie.stat_id)||VA.createCookie("vtm_stat_id",e.cookie.stat_id,90,"/","."+e.cookie.domain),"undefined"!=typeof e.pixel){var r=document.createElement("ins");r.id="vbtrax-px-"+o+"-"+t,r.innerHTML=e.pixel,document.body.appendChild(r),VA.evalScriptFromNode(r)}})}},skinFunction:function(e){if(null==VA.jq&&"undefined"!=typeof jQuery&&(VA.jq=jQuery),VA.setup.leadgen||VA.setup.cart){var t=[];"undefined"==typeof VAD&&t.push("//"+VA.domain+"/javascripts/dictionaries/va-"+VA.setup.locale+".js"),VA.loadScript({chain:t,callback:function(){var e=[],t=[];VA.setup.leadgen&&(t.push("//"+VA.domain+"/plugins/jquery.alerts-1.1/jquery.alerts.css"),"undefined"==typeof VA.center&&e.push("//"+VA.domain+"/javascripts/va.common.js"),e.push("//code.jquery.com/jquery-migrate-1.2.1.min.js"),e.push("//"+VA.domain+"/plugins/easyXDM-2.4.17.1/easyXDM.min.js"),e.push("//"+VA.domain+"/plugins/jquery-validation-1.9.0/jquery.validate.all.min.js"),e.push("//"+VA.domain+"/plugins/jquery.alerts-1.1/jquery.alerts.js"),e.push("//"+VA.domain+"/javascripts/va.xdm.js"),e.push("//ajax.googleapis.com/ajax/libs/swfobject/2.2/swfobject_src.js"),e.push("//"+VA.domain+"/plugins/fingerprintjs2/fingerprint2.js"),e.push("//"+VA.domain+"/javascripts/va.leadgen.js")),VA.setup.cart&&("undefined"==typeof VA.center&&e.push("//"+VA.domain+"/javascripts/va.common.js"),e.push("//"+VA.domain+"/javascripts/va.cart.js"));for(var o=0;o<VA.setup.predefined.length;o++)e.push("//"+VA.domain+"/javascripts/va.predefined/"+VA.setup.predefined[o]+".js");VA.loadCSS(t),VA.loadScript({chain:e,callback:function(){VA.setup.cart?VA.cart.initialize():VA.setup.leadgen&&VA.leadgen.initialize()}})}})}},remoteLoad:function(e){VA.setup.locale=e.locale||"en-US",VA.setup.predefined=e.predefined||[],VA.setup.leadgen=e.leadgen||!1,VA.setup.cart=e.cart||!1,VA.setup.receipt=e.receipt||!1,VA.setup.mkt=e.mkt||!1,VA.setup.whiteLabel=e.whiteLabel||{id:null,offerId:null,domain:null,siteId:""},VA.isWl=null!=VA.setup.whiteLabel.id,VA.events.onAfterDataLoad=e.events&&e.events.onAfterDataLoad,VA.events.onAfterFormSuccess=e.events&&e.events.onAfterFormSuccess,VA.setup.resubmitMode=e.resubmitMode||"new",VA.setup.leadgen===!0&&("undefined"!=typeof jQuery&&VA.compareVersions(jQuery.fn.jquery,"1.7.1")?VA.trace("VA: Using Client jQuery."):(VA.trace("VA: Using VA jQuery."),VA.loadScript({src:"//cdnjs.cloudflare.com/ajax/libs/jquery/1.7.1/jquery.min.js"})),VA.skinFunction()),VA.setup.mkt===!0&&(VA.trace("VA: mkt is active."),VA.mkt.initialize(e))}};